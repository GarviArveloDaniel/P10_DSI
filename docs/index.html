<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>DSI - Group R</title><meta name="description" content="Documentation for DSI - Group R"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">DSI - Group R</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>DSI - Group R</h2></div><div class="tsd-panel tsd-typography"><a id="md:práctica-9---aplicación-para-coleccionistas-de-cartas-magic" class="tsd-anchor"></a><h1><a href="#md:práctica-9---aplicación-para-coleccionistas-de-cartas-magic">Práctica 9 - Aplicación para coleccionistas de cartas Magic</a></h1><p><a href="https://coveralls.io/github/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct09-filesystem-magic-app-GarviArveloDaniel?branch=main"><img src="https://coveralls.io/repos/github/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct09-filesystem-magic-app-GarviArveloDaniel/badge.svg?branch=main" alt="Coverage Status"></a> <a href="https://sonarcloud.io/summary/new_code?id=ULL-ESIT-INF-DSI-2324_ull-esit-inf-dsi-23-24-prct09-filesystem-magic-app-GarviArveloDaniel"><img src="https://sonarcloud.io/api/project_badges/measure?project=ULL-ESIT-INF-DSI-2324_ull-esit-inf-dsi-23-24-prct09-filesystem-magic-app-GarviArveloDaniel&metric=alert_status" alt="Quality Gate Status"></a> <a href="https://github.com/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct09-filesystem-magic-app-GarviArveloDaniel/actions/workflows/tests.yml"><img src="https://github.com/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct09-filesystem-magic-app-GarviArveloDaniel/actions/workflows/tests.yml/badge.svg" alt="Tests"></a></p>
<p><strong>Información de contacto:</strong></p>
<ul>
<li>Daniel Garvi Arvelo<ul>
<li>GitHub: <a href="https://github.com/GarviArveloDaniel">@GarviArveloDaniel</a></li>
<li>Email: <a href="mailto:alu0101501338@ull.edu.es">alu0101501338@ull.edu.es</a></li>
</ul>
</li>
</ul>
<a id="md:🌳-estructura-del-repositorio" class="tsd-anchor"></a><h2><a href="#md:🌳-estructura-del-repositorio">🌳 Estructura del repositorio</a></h2><pre><code class="language-shell"><span class="hl-0">.</span><br/><span class="hl-0">├──</span><span class="hl-1"> </span><span class="hl-2">Collections</span><br/><span class="hl-0">│</span><span class="hl-1">   </span><span class="hl-2">└──</span><span class="hl-1"> </span><span class="hl-2">edusegre</span><br/><span class="hl-0">│</span><span class="hl-1">       </span><span class="hl-2">└──</span><span class="hl-1"> </span><span class="hl-3">1</span><br/><span class="hl-0">├──</span><span class="hl-1"> </span><span class="hl-2">package.json</span><br/><span class="hl-0">├──</span><span class="hl-1"> </span><span class="hl-2">package-lock.json</span><br/><span class="hl-0">├──</span><span class="hl-1"> </span><span class="hl-2">README.md</span><br/><span class="hl-0">├──</span><span class="hl-1"> </span><span class="hl-2">sonar-project.properties</span><br/><span class="hl-0">├──</span><span class="hl-1"> </span><span class="hl-2">src</span><br/><span class="hl-0">│</span><span class="hl-1">   </span><span class="hl-2">├──</span><span class="hl-1"> </span><span class="hl-2">ejercicio-pe</span><br/><span class="hl-0">│</span><span class="hl-1">   </span><span class="hl-2">│</span><span class="hl-1">   </span><span class="hl-2">├──</span><span class="hl-1"> </span><span class="hl-2">abstract_operation.ts</span><br/><span class="hl-0">│</span><span class="hl-1">   </span><span class="hl-2">│</span><span class="hl-1">   </span><span class="hl-2">├──</span><span class="hl-1"> </span><span class="hl-2">filter_map_add_reduce.ts</span><br/><span class="hl-0">│</span><span class="hl-1">   </span><span class="hl-2">│</span><span class="hl-1">   </span><span class="hl-2">├──</span><span class="hl-1"> </span><span class="hl-2">filter_map_div_reduce.ts</span><br/><span class="hl-0">│</span><span class="hl-1">   </span><span class="hl-2">│</span><span class="hl-1">   </span><span class="hl-2">├──</span><span class="hl-1"> </span><span class="hl-2">filter_map_prod_reduce.ts</span><br/><span class="hl-0">│</span><span class="hl-1">   </span><span class="hl-2">│</span><span class="hl-1">   </span><span class="hl-2">└──</span><span class="hl-1"> </span><span class="hl-2">filter_map_sub_reduce.ts</span><br/><span class="hl-0">│</span><span class="hl-1">   </span><span class="hl-2">├──</span><span class="hl-1"> </span><span class="hl-2">index.ts</span><br/><span class="hl-0">│</span><span class="hl-1">   </span><span class="hl-2">└──</span><span class="hl-1"> </span><span class="hl-2">magic_app</span><br/><span class="hl-0">│</span><span class="hl-1">       </span><span class="hl-2">├──</span><span class="hl-1"> </span><span class="hl-2">card_interface.ts</span><br/><span class="hl-0">│</span><span class="hl-1">       </span><span class="hl-2">├──</span><span class="hl-1"> </span><span class="hl-2">card.ts</span><br/><span class="hl-0">│</span><span class="hl-1">       </span><span class="hl-2">├──</span><span class="hl-1"> </span><span class="hl-2">card_utilities.ts</span><br/><span class="hl-0">│</span><span class="hl-1">       </span><span class="hl-2">└──</span><span class="hl-1"> </span><span class="hl-2">collection.ts</span><br/><span class="hl-0">├──</span><span class="hl-1"> </span><span class="hl-2">tests</span><br/><span class="hl-0">│</span><span class="hl-1">   </span><span class="hl-2">├──</span><span class="hl-1"> </span><span class="hl-2">ejercicio-pe-tests</span><br/><span class="hl-0">│</span><span class="hl-1">   </span><span class="hl-2">│</span><span class="hl-1">   </span><span class="hl-2">└──</span><span class="hl-1"> </span><span class="hl-2">ejercicio-pe.spec.ts</span><br/><span class="hl-0">│</span><span class="hl-1">   </span><span class="hl-2">└──</span><span class="hl-1"> </span><span class="hl-2">tests_magic_app</span><br/><span class="hl-0">│</span><span class="hl-1">       </span><span class="hl-2">└──</span><span class="hl-1"> </span><span class="hl-2">magic_app.spec.ts</span><br/><span class="hl-0">└──</span><span class="hl-1"> </span><span class="hl-2">tsconfig.json</span><br/><br/><span class="hl-0">8</span><span class="hl-1"> </span><span class="hl-2">directories,</span><span class="hl-1"> </span><span class="hl-3">18</span><span class="hl-1"> </span><span class="hl-2">files</span>
</code><button>Copy</button></pre>
<a id="md:📚introducción" class="tsd-anchor"></a><h2><a href="#md:📚introducción">📚Introducción</a></h2><p>En esta práctica trabajaremos con dos nuevos paquetes: <code>chalk</code> y <code>yargs</code> para poder añadir estilos a la salida y poder interactuar con el programa por línea de comandos respectivamente. Además, haremos uso de la API <strong>síncrona</strong> de Node para manejar ficheros. La aplicación consiste en ofrecer una serie de métodos a distintos usuarios para poder gestionar sus colecciones de cartas magic.</p>
<a id="md:📋tareas-previas" class="tsd-anchor"></a><h2><a href="#md:📋tareas-previas">📋Tareas Previas</a></h2><p>Al igual que en prácticas anteriores, en primer lugar acepto la tarea de github Classroom para poder acceder al repositorio, realizo la misma configuración que en la práctica anteior y además instalo los paquetes <code>chalk</code> y <code>yargs</code>.</p>
<a id="md:enunciado" class="tsd-anchor"></a><h2><a href="#md:enunciado">Enunciado</a></h2><p>Debemos diseñar una aplicación para coleccionistas de cartas magic. La aplicación, diseñada para ser utilizada exclusivamente desde la línea de comandos, permitirá a múltiples usuarios interactuar con sus respectivas colecciones, ofreciendo funciones para añadir, modificar, eliminar, listar y mostrar información detallada de las cartas. Cada carta se describirá con atributos como ID único, nombre, coste de maná, color, tipo, rareza, texto de reglas, fuerza/resistencia (en caso de ser criatura), marcas de lealtad (para Planeswalkers) y valor de mercado. Antes de añadir o modificar una carta, se realizarán verificaciones para evitar duplicados o errores, y al listar las cartas, se utilizará el paquete chalk para mostrar los colores correspondientes. Las cartas se almacenarán como archivos JSON individuales en un directorio nombrado según el usuario, utilizando la API síncrona de Node.js para el manejo de ficheros.</p>
<a id="md:implementación" class="tsd-anchor"></a><h2><a href="#md:implementación">Implementación</a></h2><a id="md:implementación-card" class="tsd-anchor"></a><h3><a href="#md:implementación-card">Implementación Card</a></h3><p>Se desarrolla la clase <code>Card</code> que a su vez implementa la interfaz <code>CardInterface</code> que lista todos los atributos que debe poseer una carta Magic, además, se crean una serie de enums <code>Color</code>, <code>CardType</code> y <code>Rarity</code> que limitan las opciones de ciertos atributos.</p>
<pre><code class="language-ts"><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-5">class</span><span class="hl-1"> </span><span class="hl-6">Card</span><span class="hl-1"> </span><span class="hl-5">implements</span><span class="hl-1"> </span><span class="hl-6">CardInterface</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">constructor</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-5">public</span><span class="hl-1"> </span><span class="hl-7">id</span><span class="hl-1">: </span><span class="hl-6">number</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">public</span><span class="hl-1"> </span><span class="hl-7">name</span><span class="hl-1">: </span><span class="hl-6">string</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">public</span><span class="hl-1"> </span><span class="hl-7">manaCost</span><span class="hl-1">: </span><span class="hl-6">number</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">public</span><span class="hl-1"> </span><span class="hl-7">color</span><span class="hl-1">: </span><span class="hl-6">Color</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">public</span><span class="hl-1"> </span><span class="hl-7">type</span><span class="hl-1">: </span><span class="hl-6">CardType</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">public</span><span class="hl-1"> </span><span class="hl-7">rarity</span><span class="hl-1">: </span><span class="hl-6">Rarity</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">public</span><span class="hl-1"> </span><span class="hl-7">rulesText</span><span class="hl-1">: </span><span class="hl-6">string</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">public</span><span class="hl-1"> </span><span class="hl-7">marketValue</span><span class="hl-1">: </span><span class="hl-6">number</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">public</span><span class="hl-1"> </span><span class="hl-7">strengthResitance</span><span class="hl-1">?: </span><span class="hl-6">StrengthResistanceType</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">public</span><span class="hl-1"> </span><span class="hl-7">loyalty</span><span class="hl-1">?: </span><span class="hl-6">number</span><br/><span class="hl-1">  ) {}</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<a id="md:card-utilities" class="tsd-anchor"></a><h3><a href="#md:card-utilities">Card utilities</a></h3><p>También se desarrollaron dos funciones para facilitar la impresión de la información de las cartas en el formato adecuado:</p>
<ul>
<li><code>colorString</code>:</li>
</ul>
<pre><code class="language-ts"><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-5">function</span><span class="hl-1"> </span><span class="hl-0">colorString</span><span class="hl-1">(</span><span class="hl-7">color</span><span class="hl-1">:</span><span class="hl-6">string</span><span class="hl-1">, </span><span class="hl-7">cadena</span><span class="hl-1">:</span><span class="hl-6">string</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-4">switch</span><span class="hl-1">(</span><span class="hl-7">color</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-4">case</span><span class="hl-1"> </span><span class="hl-2">&#39;white&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">      </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-7">chalk</span><span class="hl-1">.</span><span class="hl-0">white</span><span class="hl-1">(</span><span class="hl-7">cadena</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-4">case</span><span class="hl-1"> </span><span class="hl-2">&#39;blue&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">      </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-7">chalk</span><span class="hl-1">.</span><span class="hl-0">blue</span><span class="hl-1">(</span><span class="hl-7">cadena</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-4">case</span><span class="hl-1"> </span><span class="hl-2">&#39;black&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">      </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-7">chalk</span><span class="hl-1">.</span><span class="hl-0">black</span><span class="hl-1">(</span><span class="hl-7">cadena</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-4">case</span><span class="hl-1"> </span><span class="hl-2">&#39;red&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">      </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-7">chalk</span><span class="hl-1">.</span><span class="hl-0">red</span><span class="hl-1">(</span><span class="hl-7">cadena</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-4">case</span><span class="hl-1"> </span><span class="hl-2">&#39;green&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">      </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-7">chalk</span><span class="hl-1">.</span><span class="hl-0">green</span><span class="hl-1">(</span><span class="hl-7">cadena</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-4">case</span><span class="hl-1"> </span><span class="hl-2">&#39;colorless&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">      </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-7">chalk</span><span class="hl-1">.</span><span class="hl-0">white</span><span class="hl-1">(</span><span class="hl-7">cadena</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-4">case</span><span class="hl-1"> </span><span class="hl-2">&#39;multi&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">      </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-7">chalk</span><span class="hl-1">.</span><span class="hl-0">white</span><span class="hl-1">(</span><span class="hl-7">cadena</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-4">default</span><span class="hl-1">:</span><br/><span class="hl-1">      </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-7">chalk</span><span class="hl-1">.</span><span class="hl-0">white</span><span class="hl-1">(</span><span class="hl-7">cadena</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<ul>
<li><code>printCard</code>:</li>
</ul>
<pre><code class="language-ts"><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-5">function</span><span class="hl-1"> </span><span class="hl-0">printCard</span><span class="hl-1">(</span><span class="hl-7">card</span><span class="hl-1">: </span><span class="hl-6">CardInterface</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-7">chalk</span><span class="hl-1">.</span><span class="hl-7">white</span><span class="hl-1">.</span><span class="hl-7">underline</span><span class="hl-1">.</span><span class="hl-0">bgBlack</span><span class="hl-1">(</span><span class="hl-2">&quot;Card Details&quot;</span><span class="hl-1">));</span><br/><span class="hl-1">  </span><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Card ID: </span><span class="hl-5">${</span><span class="hl-7">card</span><span class="hl-8">.</span><span class="hl-7">id</span><span class="hl-5">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Card Name: </span><span class="hl-5">${</span><span class="hl-7">card</span><span class="hl-8">.</span><span class="hl-7">name</span><span class="hl-5">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Card Color: </span><span class="hl-5">${</span><span class="hl-0">colorString</span><span class="hl-8">(</span><span class="hl-7">card</span><span class="hl-8">.</span><span class="hl-7">color</span><span class="hl-8">, </span><span class="hl-7">card</span><span class="hl-8">.</span><span class="hl-7">color</span><span class="hl-8">)</span><span class="hl-5">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Card Type: </span><span class="hl-5">${</span><span class="hl-7">card</span><span class="hl-8">.</span><span class="hl-7">type</span><span class="hl-5">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Card Rarity: </span><span class="hl-5">${</span><span class="hl-7">card</span><span class="hl-8">.</span><span class="hl-7">rarity</span><span class="hl-5">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Card Market Value: </span><span class="hl-5">${</span><span class="hl-7">card</span><span class="hl-8">.</span><span class="hl-7">marketValue</span><span class="hl-5">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Card Rules Text: </span><span class="hl-5">${</span><span class="hl-7">card</span><span class="hl-8">.</span><span class="hl-7">rulesText</span><span class="hl-5">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-4">if</span><span class="hl-1">(</span><span class="hl-7">card</span><span class="hl-1">.</span><span class="hl-7">strengthResitance</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Card Strength: </span><span class="hl-5">${</span><span class="hl-7">card</span><span class="hl-8">.</span><span class="hl-7">strengthResitance</span><span class="hl-8">[</span><span class="hl-3">0</span><span class="hl-8">]</span><span class="hl-5">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Card Resistance: </span><span class="hl-5">${</span><span class="hl-7">card</span><span class="hl-8">.</span><span class="hl-7">strengthResitance</span><span class="hl-8">[</span><span class="hl-3">1</span><span class="hl-8">]</span><span class="hl-5">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><span class="hl-4">if</span><span class="hl-1">(</span><span class="hl-7">card</span><span class="hl-1">.</span><span class="hl-7">loyalty</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Card Loyalty: </span><span class="hl-5">${</span><span class="hl-7">card</span><span class="hl-8">.</span><span class="hl-7">loyalty</span><span class="hl-5">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;---------------------------------&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<a id="md:collection" class="tsd-anchor"></a><h3><a href="#md:collection">Collection</a></h3><p>Se desarrolla una clase <code>Collection</code> con único atributo el path al directorio donde se almacenarán las colecciones. La clase presenta además cinco métodos:</p>
<ul>
<li><code>add</code>:</li>
</ul>
<pre><code class="language-ts"><span class="hl-7">public</span><span class="hl-1"> </span><span class="hl-0">add</span><span class="hl-1">(</span><span class="hl-7">username</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-7">card</span><span class="hl-1">: </span><span class="hl-7">CardInterface</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-4">if</span><span class="hl-1">(!</span><span class="hl-7">fs</span><span class="hl-1">.</span><span class="hl-0">existsSync</span><span class="hl-1">(</span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-7">fullPath</span><span class="hl-1"> + </span><span class="hl-2">`/</span><span class="hl-5">${</span><span class="hl-7">username</span><span class="hl-5">}</span><span class="hl-2">`</span><span class="hl-1">)) {</span><br/><span class="hl-1">    </span><span class="hl-7">fs</span><span class="hl-1">.</span><span class="hl-0">mkdirSync</span><span class="hl-1">(</span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-7">fullPath</span><span class="hl-1"> + </span><span class="hl-2">`/</span><span class="hl-5">${</span><span class="hl-7">username</span><span class="hl-5">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><span class="hl-4">if</span><span class="hl-1">(!</span><span class="hl-7">fs</span><span class="hl-1">.</span><span class="hl-0">existsSync</span><span class="hl-1">(</span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-7">fullPath</span><span class="hl-1"> + </span><span class="hl-2">`/</span><span class="hl-5">${</span><span class="hl-7">username</span><span class="hl-5">}</span><span class="hl-2">/</span><span class="hl-5">${</span><span class="hl-7">card</span><span class="hl-8">.</span><span class="hl-7">id</span><span class="hl-5">}</span><span class="hl-2">`</span><span class="hl-1">)) {</span><br/><span class="hl-1">    </span><span class="hl-7">fs</span><span class="hl-1">.</span><span class="hl-0">writeFileSync</span><span class="hl-1">(</span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-7">fullPath</span><span class="hl-1"> + </span><span class="hl-2">`/</span><span class="hl-5">${</span><span class="hl-7">username</span><span class="hl-5">}</span><span class="hl-2">/</span><span class="hl-5">${</span><span class="hl-7">card</span><span class="hl-8">.</span><span class="hl-7">id</span><span class="hl-5">}</span><span class="hl-2">`</span><span class="hl-1">, </span><span class="hl-9">JSON</span><span class="hl-1">.</span><span class="hl-0">stringify</span><span class="hl-1">(</span><span class="hl-7">card</span><span class="hl-1">));</span><br/><span class="hl-1">    </span><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-7">chalk</span><span class="hl-1">.</span><span class="hl-0">green</span><span class="hl-1">(</span><span class="hl-2">`Card with id </span><span class="hl-5">${</span><span class="hl-7">card</span><span class="hl-8">.</span><span class="hl-7">id</span><span class="hl-5">}</span><span class="hl-2"> added to collection`</span><span class="hl-1">));</span><br/><span class="hl-1">  } </span><span class="hl-4">else</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-0">error</span><span class="hl-1">(</span><span class="hl-7">chalk</span><span class="hl-1">.</span><span class="hl-0">red</span><span class="hl-1">(</span><span class="hl-2">`Card with id </span><span class="hl-5">${</span><span class="hl-7">card</span><span class="hl-8">.</span><span class="hl-7">id</span><span class="hl-5">}</span><span class="hl-2"> already exists in collection`</span><span class="hl-1">));</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>  En primer lugar comprobamos si existe el directorio con el nombre del usuario (es decir, si existe el usuario), en caso de que no, se crea un directorio con el nombre del usuario y se comprueba si la carta ya existe antes de añadirla.</p>
<ul>
<li><code>modify</code>:</li>
</ul>
<pre><code class="language-ts"><span class="hl-7">public</span><span class="hl-1"> </span><span class="hl-0">modify</span><span class="hl-1">(</span><span class="hl-7">username</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-7">card</span><span class="hl-1">: </span><span class="hl-7">CardInterface</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-4">if</span><span class="hl-1">(</span><span class="hl-7">fs</span><span class="hl-1">.</span><span class="hl-0">existsSync</span><span class="hl-1">(</span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-7">fullPath</span><span class="hl-1"> + </span><span class="hl-2">`/</span><span class="hl-5">${</span><span class="hl-7">username</span><span class="hl-5">}</span><span class="hl-2">/</span><span class="hl-5">${</span><span class="hl-7">card</span><span class="hl-8">.</span><span class="hl-7">id</span><span class="hl-5">}</span><span class="hl-2">`</span><span class="hl-1">)) {</span><br/><span class="hl-1">    </span><span class="hl-7">fs</span><span class="hl-1">.</span><span class="hl-0">writeFileSync</span><span class="hl-1">(</span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-7">fullPath</span><span class="hl-1"> + </span><span class="hl-2">`/</span><span class="hl-5">${</span><span class="hl-7">username</span><span class="hl-5">}</span><span class="hl-2">/</span><span class="hl-5">${</span><span class="hl-7">card</span><span class="hl-8">.</span><span class="hl-7">id</span><span class="hl-5">}</span><span class="hl-2">`</span><span class="hl-1">, </span><span class="hl-9">JSON</span><span class="hl-1">.</span><span class="hl-0">stringify</span><span class="hl-1">(</span><span class="hl-7">card</span><span class="hl-1">));</span><br/><span class="hl-1">    </span><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-7">chalk</span><span class="hl-1">.</span><span class="hl-0">green</span><span class="hl-1">(</span><span class="hl-2">`Card with id </span><span class="hl-5">${</span><span class="hl-7">card</span><span class="hl-8">.</span><span class="hl-7">id</span><span class="hl-5">}</span><span class="hl-2"> modified`</span><span class="hl-1">));</span><br/><span class="hl-1">  } </span><span class="hl-4">else</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-0">error</span><span class="hl-1">(</span><span class="hl-7">chalk</span><span class="hl-1">.</span><span class="hl-0">red</span><span class="hl-1">(</span><span class="hl-2">`Card with id </span><span class="hl-5">${</span><span class="hl-7">card</span><span class="hl-8">.</span><span class="hl-7">id</span><span class="hl-5">}</span><span class="hl-2"> does not exist in collection`</span><span class="hl-1">));</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>  Primero comprobamos si existe la carta que queremos modificar, y la modificamos, en caso contrario emitimos un error.</p>
<ul>
<li><code>remove</code>:</li>
</ul>
<pre><code class="language-ts"><span class="hl-7">public</span><span class="hl-1"> </span><span class="hl-0">remove</span><span class="hl-1">(</span><span class="hl-7">username</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-7">cardId</span><span class="hl-1">: </span><span class="hl-7">number</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-4">if</span><span class="hl-1">(</span><span class="hl-7">fs</span><span class="hl-1">.</span><span class="hl-0">existsSync</span><span class="hl-1">(</span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-7">fullPath</span><span class="hl-1"> + </span><span class="hl-2">`/</span><span class="hl-5">${</span><span class="hl-7">username</span><span class="hl-5">}</span><span class="hl-2">/</span><span class="hl-5">${</span><span class="hl-7">cardId</span><span class="hl-5">}</span><span class="hl-2">`</span><span class="hl-1">)) {</span><br/><span class="hl-1">    </span><span class="hl-7">fs</span><span class="hl-1">.</span><span class="hl-0">unlinkSync</span><span class="hl-1">(</span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-7">fullPath</span><span class="hl-1"> + </span><span class="hl-2">`/</span><span class="hl-5">${</span><span class="hl-7">username</span><span class="hl-5">}</span><span class="hl-2">/</span><span class="hl-5">${</span><span class="hl-7">cardId</span><span class="hl-5">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-7">chalk</span><span class="hl-1">.</span><span class="hl-0">green</span><span class="hl-1">(</span><span class="hl-2">`Card with id </span><span class="hl-5">${</span><span class="hl-7">cardId</span><span class="hl-5">}</span><span class="hl-2"> removed from collection`</span><span class="hl-1">));</span><br/><span class="hl-1">  } </span><span class="hl-4">else</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-0">error</span><span class="hl-1">(</span><span class="hl-7">chalk</span><span class="hl-1">.</span><span class="hl-0">red</span><span class="hl-1">(</span><span class="hl-2">`Card with id </span><span class="hl-5">${</span><span class="hl-7">cardId</span><span class="hl-5">}</span><span class="hl-2"> does not exist in collection`</span><span class="hl-1">));</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>  De forma similar a la anterior, comprobamos que la carta existe y la eliminamos.</p>
<ul>
<li><code>list</code>:</li>
</ul>
<pre><code class="language-ts"><span class="hl-7">public</span><span class="hl-1"> </span><span class="hl-0">list</span><span class="hl-1">(</span><span class="hl-7">username</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">files</span><span class="hl-1"> = </span><span class="hl-7">fs</span><span class="hl-1">.</span><span class="hl-0">readdirSync</span><span class="hl-1">(</span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-7">fullPath</span><span class="hl-1"> + </span><span class="hl-2">`/</span><span class="hl-5">${</span><span class="hl-7">username</span><span class="hl-5">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-7">files</span><span class="hl-1">.</span><span class="hl-0">forEach</span><span class="hl-1">(</span><span class="hl-7">file</span><span class="hl-1"> </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">card</span><span class="hl-1"> = </span><span class="hl-9">JSON</span><span class="hl-1">.</span><span class="hl-0">parse</span><span class="hl-1">(</span><span class="hl-7">fs</span><span class="hl-1">.</span><span class="hl-0">readFileSync</span><span class="hl-1">(</span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-7">fullPath</span><span class="hl-1"> + </span><span class="hl-2">`/</span><span class="hl-5">${</span><span class="hl-7">username</span><span class="hl-5">}</span><span class="hl-2">/</span><span class="hl-5">${</span><span class="hl-7">file</span><span class="hl-5">}</span><span class="hl-2">`</span><span class="hl-1">).</span><span class="hl-0">toString</span><span class="hl-1">());</span><br/><span class="hl-1">    </span><span class="hl-0">printCard</span><span class="hl-1">(</span><span class="hl-7">card</span><span class="hl-1">);</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>  Para listar todas las cartas primero cargamos todas las cartas de un usuario y luego mediante un forEach llamamos a la funcion descrita anteriormente en cardUtils para imprimir la información.</p>
<ul>
<li><code>read</code>:</li>
</ul>
<pre><code class="language-ts"><span class="hl-7">public</span><span class="hl-1"> </span><span class="hl-0">read</span><span class="hl-1">(</span><span class="hl-7">username</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-7">cardId</span><span class="hl-1">: </span><span class="hl-7">number</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-4">if</span><span class="hl-1">(</span><span class="hl-7">fs</span><span class="hl-1">.</span><span class="hl-0">existsSync</span><span class="hl-1">(</span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-7">fullPath</span><span class="hl-1"> + </span><span class="hl-2">`/</span><span class="hl-5">${</span><span class="hl-7">username</span><span class="hl-5">}</span><span class="hl-2">/</span><span class="hl-5">${</span><span class="hl-7">cardId</span><span class="hl-5">}</span><span class="hl-2">`</span><span class="hl-1">)) {</span><br/><span class="hl-1">    </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">card</span><span class="hl-1"> = </span><span class="hl-9">JSON</span><span class="hl-1">.</span><span class="hl-0">parse</span><span class="hl-1">(</span><span class="hl-7">fs</span><span class="hl-1">.</span><span class="hl-0">readFileSync</span><span class="hl-1">(</span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-7">fullPath</span><span class="hl-1"> + </span><span class="hl-2">`/</span><span class="hl-5">${</span><span class="hl-7">username</span><span class="hl-5">}</span><span class="hl-2">/</span><span class="hl-5">${</span><span class="hl-7">cardId</span><span class="hl-5">}</span><span class="hl-2">`</span><span class="hl-1">).</span><span class="hl-0">toString</span><span class="hl-1">());</span><br/><span class="hl-1">    </span><span class="hl-0">printCard</span><span class="hl-1">(</span><span class="hl-7">card</span><span class="hl-1">);</span><br/><span class="hl-1">  } </span><span class="hl-4">else</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-0">error</span><span class="hl-1">(</span><span class="hl-7">chalk</span><span class="hl-1">.</span><span class="hl-0">red</span><span class="hl-1">(</span><span class="hl-2">`Card with id </span><span class="hl-5">${</span><span class="hl-7">cardId</span><span class="hl-5">}</span><span class="hl-2"> does not exist in collection`</span><span class="hl-1">));</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>  Para leer una carta, comprobamos que existe el id y la imprimimos por pantalla.</p>
<p>Podemos comprobar que en cada caso los mensajes por la consola se muestran de color verde, y los de error en color rojo.</p>
<a id="md:intérprete-de-línea-de-comandos-en-indexts" class="tsd-anchor"></a><h3><a href="#md:intérprete-de-línea-de-comandos-en-indexts">Intérprete de línea de comandos en index.ts</a></h3><p>En el archivo index.ts se ha implementado toda la funcionalidad para poder leer comandos desde la línea de comandos y realizar las acciones correspondientes. A continuación se muestra el ejemplo para el método add:</p>
<pre><code class="language-ts"><span class="hl-0">yargs</span><span class="hl-1">(</span><span class="hl-0">hideBin</span><span class="hl-1">(</span><span class="hl-7">process</span><span class="hl-1">.</span><span class="hl-7">argv</span><span class="hl-1">))</span><br/><span class="hl-1">.</span><span class="hl-0">command</span><span class="hl-1">(</span><span class="hl-2">&#39;add&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;Adds a card to the collection&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">    </span><span class="hl-7">username:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;The username of the collection owner&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;string&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">demandOption:</span><span class="hl-1"> </span><span class="hl-5">true</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-7">id:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;The ID of the card to add&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;number&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">demandOption:</span><span class="hl-1"> </span><span class="hl-5">true</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-7">name:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;The name of the card to add&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;string&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">demandOption:</span><span class="hl-1"> </span><span class="hl-5">true</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-7">manaCost:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;The mana cost of the card to add&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;number&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">demandOption:</span><span class="hl-1"> </span><span class="hl-5">true</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-7">color:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;The color of the card to add&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;string&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">demandOption:</span><span class="hl-1"> </span><span class="hl-5">true</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-7">type:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;The type of the card to add&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;string&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">demandOption:</span><span class="hl-1"> </span><span class="hl-5">true</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-7">rarity:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;The rarity of the card to add&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;string&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">demandOption:</span><span class="hl-1"> </span><span class="hl-5">true</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-7">rulesText:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;The rules text of the card to add&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;string&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">demandOption:</span><span class="hl-1"> </span><span class="hl-5">true</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-7">marketValue:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;The market value of the card to add&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;number&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">demandOption:</span><span class="hl-1"> </span><span class="hl-5">true</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-7">strength:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;The strength of the card to add&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;number&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">demandOption:</span><span class="hl-1"> </span><span class="hl-5">false</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-7">resistance:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;The resistance of the card to add&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;number&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">demandOption:</span><span class="hl-1"> </span><span class="hl-5">false</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-7">loyalty:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;The loyalty of the card to add&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;number&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">demandOption:</span><span class="hl-1"> </span><span class="hl-5">false</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }, (</span><span class="hl-7">argv</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">collection</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">Collection</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-7">collection</span><span class="hl-1">.</span><span class="hl-0">add</span><span class="hl-1">(</span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">username</span><span class="hl-1">, {</span><br/><span class="hl-1">      </span><span class="hl-7">id:</span><span class="hl-1"> </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">id</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">name:</span><span class="hl-1"> </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">name</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">manaCost:</span><span class="hl-1"> </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">manaCost</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">color:</span><span class="hl-1"> </span><span class="hl-7">Color</span><span class="hl-1">[</span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">color</span><span class="hl-1"> </span><span class="hl-4">as</span><span class="hl-1"> </span><span class="hl-5">keyof</span><span class="hl-1"> </span><span class="hl-5">typeof</span><span class="hl-1"> </span><span class="hl-7">Color</span><span class="hl-1">],</span><br/><span class="hl-1">      </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-7">CardType</span><span class="hl-1">[</span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">type</span><span class="hl-1"> </span><span class="hl-4">as</span><span class="hl-1"> </span><span class="hl-5">keyof</span><span class="hl-1"> </span><span class="hl-5">typeof</span><span class="hl-1"> </span><span class="hl-7">CardType</span><span class="hl-1">],</span><br/><span class="hl-1">      </span><span class="hl-7">rarity:</span><span class="hl-1"> </span><span class="hl-7">Rarity</span><span class="hl-1">[</span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">rarity</span><span class="hl-1"> </span><span class="hl-4">as</span><span class="hl-1"> </span><span class="hl-5">keyof</span><span class="hl-1"> </span><span class="hl-5">typeof</span><span class="hl-1"> </span><span class="hl-7">Rarity</span><span class="hl-1">],</span><br/><span class="hl-1">      </span><span class="hl-7">rulesText:</span><span class="hl-1"> </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">rulesText</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">marketValue:</span><span class="hl-1"> </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">marketValue</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">strengthResitance:</span><span class="hl-1"> </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">strength</span><span class="hl-1"> &amp;&amp; </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">resistance</span><span class="hl-1"> ? [</span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">strength</span><span class="hl-1">, </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">resistance</span><span class="hl-1">] : </span><span class="hl-5">undefined</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">loyalty:</span><span class="hl-1"> </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">loyalty</span><span class="hl-1"> ? </span><span class="hl-7">argv</span><span class="hl-1">.</span><span class="hl-7">loyalty</span><span class="hl-1"> : </span><span class="hl-5">undefined</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">  }).</span><span class="hl-0">help</span><span class="hl-1">().</span><span class="hl-7">argv</span><span class="hl-1">;</span>
</code><button>Copy</button></pre>
<p>Para el resto de comandos la estructura es la misma, cambiando para cada caso, el método llamado y los comandos que se piden.</p>
<a id="md:ejercicio-de-pe" class="tsd-anchor"></a><h2><a href="#md:ejercicio-de-pe">Ejercicio de pe</a></h2><a id="md:descripción-del-ejercicio" class="tsd-anchor"></a><h3><a href="#md:descripción-del-ejercicio">Descripción del ejercicio</a></h3><p>El problema requería la implementación de un algoritmo que realizara operaciones de filtrado, mapeo y reducción en una lista de números. Estas operaciones debían ser implementadas sin utilizar los métodos filter, map y reduce proporcionados por TypeScript. Además, se requería que estas operaciones se implementaran utilizando el patrón de diseño template method.</p>
<a id="md:solución-implementada" class="tsd-anchor"></a><h3><a href="#md:solución-implementada">Solución implementada</a></h3><p>La solución propuesta implementa el patrón de diseño del método de plantilla en TypeScript. En este patrón, un método en una clase base (el “método de plantilla”) define el esqueleto de un algoritmo, y uno o más métodos “gancho” son definidos para ser sobrescritos en las subclases para variar partes del algoritmo.</p>
<p>En nuestra implementación, la clase base abstracta <code>AbstractOperation</code> define el método de plantilla <code>execute()</code>, que realiza las operaciones de filtrado, mapeo y reducción en orden. Las operaciones de filtrado y mapeo se implementan en la clase base, mientras que la operación de reducción se deja como un método abstracto para ser implementado por las subclases.</p>
<p>Las subclases <code>FilterMapAddReduce</code>, <code>FilterMapSubReduce</code>, <code>FilterMapProdReduce</code> y <code>FilterMapDivReduce</code> implementan la operación de reducción con la suma, resta, producto y división, respectivamente.</p>
<p>También se añadieron métodos de enganche entre las operaciones de filtrado, mapeo y reducción que realizaban salidas por pantalla indicando en que punto del algoritmo se encuentra la ejecución.</p>
<a id="md:💭conclusiones" class="tsd-anchor"></a><h2><a href="#md:💭conclusiones">💭Conclusiones</a></h2><p>En el desarrollo de esta práctica hemos aprendido a usar los paquetes yargs y chalk, así como una pequeña introdución a la API síncrona para manejo de ficheros de Node.</p>
<a id="md:🔗bibliografía" class="tsd-anchor"></a><h2><a href="#md:🔗bibliografía">🔗Bibliografía</a></h2><p><a href="https://ull-esit-inf-dsi-2324.github.io/prct09-fiilesystem-magic-app/">Guión de práctica 9</a></p>
<a id="md:🛠️herramientas" class="tsd-anchor"></a><h2><a href="#md:🛠️herramientas">🛠️Herramientas</a></h2><p>Algunas de las herramientas que se han utilizado en esta práctica son las siguientes:</p>
<p><img src="https://img.shields.io/badge/GitHub-100000?style=for-the-badge&logo=github&logoColor=white" /> <img src="https://img.shields.io/badge/GitHub%20Pages-222222?style=for-the-badge&logo=GitHub%20Pages&logoColor=white"/>  <img src="https://img.shields.io/badge/Github%20Actions-282a2e?style=for-the-badge&logo=githubactions&logoColor=367cfe"/> <img src="https://img.shields.io/badge/eslint-3A33D1?style=for-the-badge&logo=eslint&logoColor=white"/> <img src="https://img.shields.io/badge/prettier-1A2C34?style=for-the-badge&logo=prettier&logoColor=F7BA3E"/> <img src="https://img.shields.io/badge/TypeScript-007ACC?style=for-the-badge&logo=typescript&logoColor=white"/> <img src="https://img.shields.io/badge/npm-CB3837?style=for-the-badge&logo=npm&logoColor=white"/> <img src="https://img.shields.io/badge/Node%20js-339933?style=for-the-badge&logo=nodedotjs&logoColor=white"/> <img src="https://img.shields.io/badge/Mocha-8D6748?style=for-the-badge&logo=Mocha&logoColor=white"/> <img src="https://img.shields.io/badge/chai-A30701?style=for-the-badge&logo=chai&logoColor=white"/></p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-index-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><h4 class="uppercase">Member Visibility</h4><form><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div><div class="tsd-theme-toggle"><h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:práctica-9---aplicación-para-coleccionistas-de-cartas-magic"><span>Práctica 9 -<wbr/> <wbr/>Aplicación para coleccionistas de cartas <wbr/>Magic</span></a><ul><li><a href="#md:🌳-estructura-del-repositorio"><span>🌳 <wbr/>Estructura del repositorio</span></a></li><li><a href="#md:📚introducción"><span>📚<wbr/>Introducción</span></a></li><li><a href="#md:📋tareas-previas"><span>📋<wbr/>Tareas <wbr/>Previas</span></a></li><li><a href="#md:enunciado"><span>Enunciado</span></a></li><li><a href="#md:implementación"><span>Implementación</span></a></li><li><ul><li><a href="#md:implementación-card"><span>Implementación <wbr/>Card</span></a></li><li><a href="#md:card-utilities"><span>Card utilities</span></a></li><li><a href="#md:collection"><span>Collection</span></a></li><li><a href="#md:intérprete-de-línea-de-comandos-en-indexts"><span>Intérprete de línea de comandos en index.ts</span></a></li></ul></li><li><a href="#md:ejercicio-de-pe"><span>Ejercicio de pe</span></a></li><li><ul><li><a href="#md:descripción-del-ejercicio"><span>Descripción del ejercicio</span></a></li><li><a href="#md:solución-implementada"><span>Solución implementada</span></a></li></ul></li><li><a href="#md:💭conclusiones"><span>💭<wbr/>Conclusiones</span></a></li><li><a href="#md:🔗bibliografía"><span>🔗<wbr/>Bibliografía</span></a></li><li><a href="#md:🛠️herramientas"><span>🛠️<wbr/>Herramientas</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="index.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>DSI - Group R</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><div class="tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div></body></html>